{
  "openapi": "3.0.2",
  "info": {
    "version": "1.0.0",
    "title": "So Yummy API documentation",
    "description": "API documentation for So Yummy project.",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "consumes": ["application/json", "multipart/form-data"],
  "produces": ["application/json"],
    "servers": [
    {
      "url": "http://localhost:3000"
    }
  ],
  "tags": [
    {
      "name": "Auth",
      "description": "Authorization endpoints"
    },
    {
      "name": "Recipes",
      "description": "Recipes endpoints"
    },
    {
      "name": "Ingredients",
      "description": "Ingredients endpoints"
    },
    {
      "name": "Favorite",
      "description": "Favorite endpoints"
    },
    {
      "name": "Own recipes",
      "description": "Own recipes endpoints"
    },
    {
      "name": "Popular",
      "description": "Popular endpoints"
    },
    {
      "name": "Shopping-list",
      "description": "Shopping-list endpoints"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Auth"],
        "summary": "User registration",
        "security": [{ "Bearer": [] }],
        "parameters": [],
        "requestBody": {
          "description": "Registration body",
          "required": "true",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegistrationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegistrationResponse"
                }
              }
            }
          },
          "409": {
            "description": "User with this email is already registered",
            "content": {}
          }
        }

      }
    },
    "/auth/verify": {
      "post": {
        "tags": ["Auth"],
        "summary": "User's email verification",
        "parameters": [],
        "requestBody": {
          "description": "Email verification body",
          "required": "true",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificstionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful verification",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Response message",
                      "example": "Email verify success"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Response message",
                      "example": "Email already verified"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "User authentication",
        "parameters": [],
        "requestBody": {
          "description": "Authentication's object",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful login",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Email or password is invalid",
            "content": {}
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "User logout",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "User logged out",
                      "example": "Logged out"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Unauthorized",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/recipes/main-page": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Recipes list by categories",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipesByCategoryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/recipes/popular": {
      "get": {
        "tags": ["Recipes", "Popular"],
        "summary": "Popular recipes",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PopularRecipesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/recipes/{id}": {
      "get": {
        "tags": ["Recipes"],
        "summary": "Recipe by id",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "Recipe's id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeByIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Recipe is not found.",
            "content": {}
          }
        }
      }
    },
    "/ownRecipes": {
      "get": {
        "tags": ["Own recipes"],
        "summary": "Own recipes list",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OwnRecipesResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Own recipes"],
        "summary": "Add own recipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Add own recipe",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/AddOwnRecipeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddOwnRecipeResponse"
                }
              }
            }
          },
          "409": {
            "description": "Recipe is already exist",
            "content": {}
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "RegistrationRequest": {
        "type": "object",
        "required": ["name", "email", "password"],
        "properties": {
          "name": {
            "type": "string",
            "description": "User's name",
            "example": "Olena Bielova"
          },
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          },
          "password": {
            "type": "string",
            "description": "User's password",
            "example": "1234qwer"
          }
        }
      },
      "RegistrationResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User's id",
            "example": "642831f346155749a2b6e944"
          },
          "name": {
            "type": "string",
            "description": "User's name",
            "example": "Olena Bielova"
          },
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          }
        }
      },
      "EmailVerificstionRequest": {
        "required": ["email"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          }
        }
      },
      "LoginRequest": {
        "required": ["email", "password"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "User's email",
            "format": "email"
          },
          "password": {
            "type": "string",
            "description": "User's password",
            "example": "1234qwer"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "Session's access token (needed for all requests)",
            "format": "string"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "User's id",
                "example": "642831f346155749a2b6e944"
              },
              "name": {
                "type": "string",
                "description": "User's name",
                "example": "Olena Bielova"
              },
              "email": {
                "type": "string",
                "description": "User's email",
                "format": "email"
              },
              "avatarURL": {
                "type": "string",
                "description": "User's avatar link",
                "example": "User's avatar link"
              },
              "achievements": {
                "type": "array",
                "description": "User's achievements",
                "items": {
                  "type": "string",
                  "description": "User's achievement",
                  "example": "First shopping list"
                },
                "example": "First shopping list"
              }
            }
          }
        }
      },
      "RecipesByCategoryResponse": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "imgURL": {
              "type": "string"
            },
            "_id": {
              "type": "string",
              "example": "640cd5ac2d9fecf12e889863"
            },
            "title": {
              "type": "string",
              "example": "English Breakfast"
            },
            "category": {
              "type": "string",
              "example": "Breakfast"
            },
            "area": {
              "type": "string",
              "example": "British"
            },
            "instructions": {
              "type": "string",
              "example": "Heat the flat grill plate over a low heat..."
            },
            "description": {
              "type": "string",
              "example": "A hearty breakfast meal consisting of eggs, bacon, sausage, baked beans..."
            },
            "thumb": {
              "type": "string",
              "example": "https://www.themealdb.com/images/media/meals/utxryw1511721587.jpg"
            },
            "preview": {
              "type": "string",
              "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560624/cnkpymzd18llmlc9pedc.jpg"
            },
            "time": {
              "type": "string",
              "example": "51"
            },
            "popularity": {
              "type": "integer",
              "example": 6
            },
            "favorites": {
              "type": "array",
              "items": {
                "type": "string",
                "example": "6412cb161688c90e5427aee2"
              }
            },
            "likes": {
              "type": "array",
              "items": {
                "type": "string",
                "example": "6412cb161688c90e5427aee2"
              }
            },
            "youtube": {
              "type": "string",
              "example": "https://www.youtube.com/watch?v=FXjYU2Ensck"
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string",
                "example": "Breakfast"
              }
            },
            "createdAt": {
              "type": "string",
              "example": "2023-03-11T19:25:33.243Z"
            },
            "updatedAt": {
              "type": "string",
              "example": "2023-03-11T19:25:33.243Z"
            },
            "ingredients": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "640c2dd963a319ea671e3760"
                  },
                  "measure": {
                    "type": "string",
                    "example": "2"
                  }
                }
              }
            }
          }
        }
      },
      "PopularRecipesResponse": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "imgURL": {
              "type": "string"
            },
            "_id": {
              "type": "string",
              "example": "640cd5ac2d9fecf12e889863"
            },
            "title": {
              "type": "string",
              "example": "English Breakfast"
            },
            "category": {
              "type": "string",
              "example": "Breakfast"
            },
            "area": {
              "type": "string",
              "example": "British"
            },
            "instructions": {
              "type": "string",
              "example": "Heat the flat grill plate over a low heat..."
            },
            "description": {
              "type": "string",
              "example": "A hearty breakfast meal consisting of eggs, bacon, sausage, baked beans..."
            },
            "thumb": {
              "type": "string",
              "example": "https://www.themealdb.com/images/media/meals/utxryw1511721587.jpg"
            },
            "preview": {
              "type": "string",
              "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560624/cnkpymzd18llmlc9pedc.jpg"
            },
            "time": {
              "type": "string",
              "example": "51"
            },
            "popularity": {
              "type": "number",
              "example": 6
            },
            "favorites": {
              "type": "array",
              "items": {
                "type": "string",
                "example": "6412cb161688c90e5427aee2"
              }
            },
            "likes": {
              "type": "array",
              "items": {
                "type": "string",
                "example": "6412cb161688c90e5427aee2"
              }
            },
            "youtube": {
              "type": "string",
              "example": "https://www.youtube.com/watch?v=FXjYU2Ensck"
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string",
                "example": "Breakfast"
              }
            },
            "createdAt": {
              "type": "string",
              "example": "2023-03-11T19:25:33.243Z"
            },
            "updatedAt": {
              "type": "string",
              "example": "2023-03-11T19:25:33.243Z"
            },
            "ingredients": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "640c2dd963a319ea671e3760"
                  },
                  "measure": {
                    "type": "string",
                    "example": "2"
                  }
                }
              }
            }
          }
        }
      },
      "RecipeByIdResponse": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Recipe's name",
            "example": "Brown Stew Chicken"
          },
          "category": {
            "type": "string",
            "description": "Category name",
            "enum": [
              "Beef",
              "Breakfast",
              "Chicken",
              "Dessert",
              "Goat",
              "Lamb",
              "Miscellaneous",
              "Pasta",
              "Pork",
              "Seafood",
              "Side",
              "Starter",
              "Vegan",
              "Vegetarian"
            ]
          },
          "about": {
            "type": "array",
            "description": "Recipe's area",
            "items": {
              "type": "string",
              "example": "Preheat the oven to 150C/300F/Gas."
            },
            "example": [
              "Preheat the oven to 150C/300F/Gas.",
              "Toss the beef and flour together in a bowl with some salt and black pepper."
            ]
          },
          "description": {
            "type": "string",
            "description": "Recipe's instruction",
            "example": "Preheat oven to 350° F. Spray a 9x13-inch baking pan with non-stick spray."
          },
          "imgURL": {
            "type": "string",
            "description": "Recipe's image",
            "example": "https://www.themealdb.com/images/media/meals/wvpsxx1468256321.jpg"
          },
          "time": {
            "type": "string",
            "description": "Recipes cooking time",
            "example": "15 min"
          },
          "ingredients": {
            "type": "array",
            "description": "Recipes ingredients list",
            "items": {
              "type": "object",
              "properties": {
                "ingredient": {
                  "type": "string",
                  "description": "Ingredient's name",
                  "example": "basil"
                },
                "qty": {
                  "type": "string",
                  "description": "Ingredient's quantity",
                  "example": "6 leaves"
                },
                "imgURL": {
                  "type": "string",
                  "description": "Ingredient's image",
                  "example": "https://www.themealdb.com/images/ingredients/basil-Small.png"
                },
                "description": {
                  "type": "string",
                  "description": "Ingredient's image",
                  "example": "Basil, also called great basil, is a culinary herb of the family Lamiaceae (mints)."
                },
                "id": {
                  "type": "string",
                  "description": "Ingredient's image",
                  "example": 17
                }
              }
            },
            "example": [
              {
                "ingredient": "basil",
                "qty": "6 leaves",
                "imgURL": "https://www.themealdb.com/images/ingredients/basil-Small.png",
                "description": "Basil, also called great basil, is a culinary herb of the family Lamiaceae (mint).",
                "id": 17
              },
              {
                "ingredient": "Parmigiano-Reggiano",
                "qty": "spinkling",
                "imgURL": "https://www.themealdb.com/images/ingredients/Parmigiano-Reggiano-Small.png",
                "description": null,
                "id": 236
              }
            ]
          }
        }
      },
      "AddOwnRecipeRequest": {
        "type": "object",
        "properties": {
          "picture": {
            "type": "string",
            "description": "Recipe's image",
            "format": "binary"
          },
          "title": {
            "type": "string",
            "description": "Recipe's title",
            "example": ""
          },
          "about": {
            "type": "string",
            "description": "Recipe's about",
            "example": ""
          },
          "category": {
            "type": "string",
            "description": "Category name",
            "enum": [
              "Beef",
              "Breakfast",
              "Chicken",
              "Dessert",
              "Goat",
              "Lamb",
              "Miscellaneous",
              "Pasta",
              "Pork",
              "Seafood",
              "Side",
              "Starter",
              "Vegan",
              "Vegetarian"
            ]
          },
          "cookingTime": {
            "type": "string",
            "description": "Recipe's cooking time",
            "example": "20 min"
          },
          "ingredients": {
            "type": "array",
            "description": "Recipe's ingredients list",
            "items": {
              "type": "object",
              "properties": {
                "ingredient": {
                  "type": "string",
                  "description": "Ingredient name",
                  "example": "Apple"
                },
                "qty": {
                  "type": "string",
                  "description": "Ingredient quantity",
                  "example": "2000 tsp"
                }
              }
            },
            "example": [
              {
                "ingredient": "Apple",
                "qty": "2000 tsp"
              },
              {
                "ingredient": "Sugar",
                "qty": "300 g"
              }
            ]
          },
          "description": {
            "type": "string",
            "description": "Recipe's description",
            "example": "Recipe's description"
          }
        }
      },
      "AddOwnRecipeResponse": {
        "type": "object",
          "properties": {
            "_id": {
              "type": "string",
              "description": "Recipe's id",
              "example": "640c84b78097084bc02b85ae"
            },
            "imgURL": {
              "type": "string",
              "description": "Recipe's image",
              "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560403/smb2tdq5ltv4usbnvmt2.jpg"
            },
            "title": {
              "type": "string",
              "description": "Recipe's name",
              "example": "Chicken Enchilada Casserole"
            },
            "category": {
              "type": "string",
              "description": "Category name",
              "enum": [
                "Beef",
                "Breakfast",
                "Chicken",
                "Dessert",
                "Goat",
                "Lamb",
                "Miscellaneous",
                "Pasta",
                "Pork",
                "Seafood",
                "Side",
                "Starter",
                "Vegan",
                "Vegetarian"
              ]
            },
            "time": {
              "type": "string",
              "description": "Recipe's cooking time",
              "example": "60 min"
            },
            "owner": {
              "type": "string",
              "description": "Recipe's owner id",
              "example": "6429d3bcf2d5352291b59e1c"
            },
            "ingredients": {
              "type": "array",
              "description": "Recipe's ingredients list",
              "items": {
                "type": "object",
                "properties": {
                  "ingredient": {
                    "type": "string",
                    "description": "Ingredient id",
                    "example": "640c2dd963a319ea671e36cb"
                  },
                  "qty": {
                    "type": "string",
                    "description": "Ingredient quantity",
                    "example": "3 Cups"
                  }
                }
              }
            },
            "description": {
              "type": "string",
              "description": "Recipe's description",
              "example": "A Mexican-inspired casserole made with shredded chicken, enchilada sauce, tortillas, and cheese."
            }
        }
      },
      "OwnRecipesResponse": {
        "type": "array",
        "description": "Own recipes list",
        "items": {
          "type": "object",
          "properties": {
            "_id": {
              "type": "string",
              "description": "Recipe's id",
              "example": "640c84b78097084bc02b85ae"
            },
            "imgURL": {
              "type": "string",
              "description": "Recipe's image",
              "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560403/smb2tdq5ltv4usbnvmt2.jpg"
            },
            "title": {
              "type": "string",
              "description": "Recipe's name",
              "example": "Chicken Enchilada Casserole"
            },
            "category": {
              "type": "string",
              "description": "Category name",
              "enum": [
                "Beef",
                "Breakfast",
                "Chicken",
                "Dessert",
                "Goat",
                "Lamb",
                "Miscellaneous",
                "Pasta",
                "Pork",
                "Seafood",
                "Side",
                "Starter",
                "Vegan",
                "Vegetarian"
              ]
            },
            "time": {
              "type": "string",
              "description": "Recipe's cooking time",
              "example": "60 min"
            },
            "ingredients": {
              "type": "array",
              "description": "Recipe's ingredients list",
              "items": {
                "type": "object",
                "properties": {
                  "ingredient": {
                    "type": "string",
                    "description": "Ingredient id",
                    "example": "640c2dd963a319ea671e36cb"
                  },
                  "qty": {
                    "type": "string",
                    "description": "Ingredient quantity",
                    "example": "3 Cups"
                  }
                }
              }
            },
            "description": {
              "type": "string",
              "description": "Recipe's description",
              "example": "A Mexican-inspired casserole made with shredded chicken, enchilada sauce, tortillas, and cheese."
            },
            "owner": {
              "type": "string",
              "description": "Recipe's owner id",
              "example": "6429d3bcf2d5352291b59e1c"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}